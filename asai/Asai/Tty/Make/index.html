<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (asai.Asai.Tty.Make)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../../index.html">asai</a> &#x00BB; <a href="../../index.html">Asai</a> &#x00BB; <a href="../index.html">Tty</a> &#x00BB; Make</nav><header class="odoc-preamble"><h1>Module <code><span>Tty.Make</span></code></h1><p>This module provides functions to display or interact with diagnostics in UNIX terminals.</p></header><nav class="odoc-toc"><ul><li><a href="#parameters">Parameters</a></li><li><a href="#signature">Signature</a></li></ul></nav><div class="odoc-content"><h2 id="parameters"><a href="#parameters" class="anchor"></a>Parameters</h2><div class="odoc-spec"><div class="spec parameter anchored" id="argument-1-Message"><a href="#argument-1-Message" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="argument-1-Message/index.html">Message</a></span><span> : <a href="../../MinimumSigs/module-type-Message/index.html">MinimumSigs.Message</a></span></code></div></div><h2 id="signature"><a href="#signature" class="anchor"></a>Signature</h2><div class="odoc-spec"><div class="spec value anchored" id="val-display"><a href="#val-display" class="anchor"></a><code><span><span class="keyword">val</span> display : 
  <span><span class="optlabel">?output</span>:<span class="xref-unresolved">Stdlib</span>.out_channel <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?use_ansi</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?use_color</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?show_backtrace</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?line_breaks</span>:<span>[ `Unicode <span>| `Traditional</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?block_splitting_threshold</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?tab_size</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?debug</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="argument-1-Message/index.html#type-t">Message.t</a> <a href="../../Diagnostic/index.html#type-t">Diagnostic.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>display d</code> prints the diagnostic <code>d</code> to the standard output, using terminal control characters for formatting. A message will look like this (but with coloring):</p><pre> ￫ warning[hello]
 ╭ ￭ /path/to/file.cool
 ┆ 1 | aaaaaaaaaa
 ┆ 2 | bbbbbbbbbb
 ╯   ^ when stepping into the abyss
 ￭ /path/to/file.cool
 2 | bbbbbbbbbb
 3 | cccccccccc
   ^ could not say hi here</pre><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">output</span> <p>The output channel, such as <code>stdout</code> or <code>stderr</code>. By default, it is <code>stdout</code>, the standard output.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">use_ansi</span> <p>Whether ANSI escape sequences should be used, overwriting the auto-detection. By default, the auto-detection checks whether the <code>output</code> is a TTY and whether the environment variable <code>TERM</code> is set to a non-empty value other than <code>dumb</code>. Note that this handler is currently using <i>exclusively</i> ANSI escape sequences for highlighting, which means turning them off will lose the precise location. (This may change in the future.)</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">use_color</span> <p>Whether colors should be use when ANSI escape sequences are used, overwriting the auto-detection. By default, the auto-detection will turn off the colors if a non-empty value was assigned to the environment variable <code>NO_COLOR</code>. Note that even when the colors are turned off, the handler may still use the bold style, the faint style, and underlines for highlighting. This parameter has no effects if ANSI escape sequences are not used.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">show_backtrace</span> <p>Whether the backtrace should be shown. The default is <code>true</code>.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">line_breaks</span> <p>The set of character sequences that are recognized as (hard) line breaks. The <code>`Unicode</code> set contains all Unicode character sequences in <a href="https://www.unicode.org/versions/Unicode15.0.0/ch05.pdf#G41643">Unicode 15.0.0 Table 5-1.</a> The <code>`Traditional</code> set only contains <code>U+000A (LF)</code>, <code>U+000D (CR)</code>, and <code>U+000D U+000A (CRLF)</code> as line breaks. The default is the <code>`Traditional</code> set.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">block_splitting_threshold</span> <p>The maximum number of consecutive, non-highlighted lines allowed in a block. The function will try to minimize the number of blocks, as long as no block has too many consecutive, non-highlighted lines. A higher threshold will lead to fewer blocks. When the threshold is zero, it means no block can contain any non-highlighted line. The default value is <code>5</code>.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">tab_size</span> <p>The number of spaces that should be used to replace a horizontal tab. Note that a horizontal tab is always expanded to the same number of spaces. The result should still be visually appealing as long as horizontal tabs are only used at the beginning of lines. The default value is <code>8</code>.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">debug</span> <p>Whether to enable the debug mode that performs expensive extra checking. The default is <code>false</code>.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Invalid_argument</code> <p>if <code>tab_size &lt; 0</code> or inconsistent ranges are detected.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Invalid_range</code> <p>if the debug mode is enabled and some ranges are invalid. See <a href="../../Explicator/index.html#exception-Invalid_range"><code>Explicator.Invalid_range</code></a>.</p></li></ul><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="https://no-color.org/" class="value">https://no-color.org/</a> <p>for the <code>NO_COLOR</code> specification</p></li></ul></div></div></div></body></html>
